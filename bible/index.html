<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pasaje del Día</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Custom scrollbar for iframe content */
        iframe {
            scrollbar-width: thin;
            scrollbar-color: #A3A3A3 #F5F5F5;
        }
        iframe::-webkit-scrollbar {
            width: 8px;
        }
        iframe::-webkit-scrollbar-track {
            background: #F5F5F5;
            border-radius: 10px;
        }
        iframe::-webkit-scrollbar-thumb {
            background-color: #A3A3A3;
            border-radius: 10px;
            border: 2px solid #F5F5F5;
        }
    </style>
</head>
<body class="bg-neutral-100 text-neutral-800 flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-4xl mx-auto bg-white shadow-xl rounded-2xl p-6 md:p-10 text-center">

        <header class="mb-6">
            <h1 class="text-4xl md:text-5xl font-bold text-sky-800">Pasaje del Día</h1>
            <p class="text-neutral-500 mt-2">Lectura bíblica diaria "A Través de la Biblia" para 2025</p>
        </header>

        <div class="bg-sky-50 border border-sky-200 rounded-xl p-4 mb-6">
            <h2 id="current-date" class="text-xl md:text-2xl font-semibold text-sky-700">Cargando fecha...</h2>
            <p id="passage-text" class="text-2xl md:text-3xl font-bold mt-2 text-sky-900">Cargando pasaje...</p>
        </div>

        <a id="bible-gateway-link" href="#" target="_blank" class="inline-block bg-sky-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-sky-700 transition-all duration-300 ease-in-out transform hover:-translate-y-1 mb-6">
            Abrir en Bible Gateway (NBLA)
        </a>

        <!-- YouTube Video Player -->
        <div class="mt-8 mb-6 text-left">
            <div class="flex flex-col sm:flex-row justify-center items-center gap-4 mb-4">
                 <h3 class="text-2xl font-bold text-sky-800 text-center">Video del Día</h3>
                 <a href="https://www.youtube.com/@atravesdelabiblia_oficial" target="_blank" class="inline-block bg-red-600 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:bg-red-700 transition-all duration-300 ease-in-out text-sm">
                    Abrir en YouTube
                </a>
            </div>
            <div class="aspect-w-16 aspect-h-9">
                <iframe
                    class="w-full h-full rounded-xl"
                    src="https://www.youtube.com/embed?listType=playlist&list=UUJcR7S3tylwJ5h_H_ctVhsg"
                    title="YouTube video player"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
            </div>
        </div>

        <div id="iframe-container" class="w-full h-[50vh] md:h-[60vh] bg-neutral-200 rounded-lg overflow-hidden border border-neutral-300 shadow-inner">
            <iframe id="bible-gateway-iframe" class="w-full h-full border-0" title="Pasaje del día en Bible Gateway"></iframe>
            <div id="no-passage-message" class="hidden w-full h-full flex items-center justify-center">
                <p class="text-neutral-500 text-lg">No hay un pasaje bíblico para mostrar.</p>
            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Datos del plan de lectura para 2025
            const passages2025 = {
                enero: { 1: "Apocalipsis 1:4-9", 2: "Apocalipsis 1:10-18", 3: "Apocalipsis 1:17-20", 6: "Apocalipsis 2:1-4", 7: "Apocalipsis 2:4-7", 8: "Apocalipsis 2:8-11", 9: "Apocalipsis 2:12-15", 10: "Apocalipsis 2:16-3:2", 13: "Apocalipsis 3:2-6", 14: "Apocalipsis 3:7-12", 15: "Apocalipsis 3:12-16", 16: "Apocalipsis 3:16-19", 17: "Apocalipsis 3:20-22", 20: "Apocalipsis 4:1-6", 21: "Apocalipsis 4:7-5:1", 22: "Apocalipsis 5:2-14", 23: "Apocalipsis 6:1", 24: "Apocalipsis 6:1-8", 27: "Apocalipsis 6:8-17", 28: "Apocalipsis 7:1", 29: "Apocalipsis 7:2-4", 30: "Apocalipsis 7:5-12", 31: "Apocalipsis 7:13-17" },
                febrero: { 3: "Apocalipsis 8:1", 4: "Apocalipsis 8:2-5", 5: "Apocalipsis 8:6-13", 6: "Apocalipsis 9:1-6", 7: "Apocalipsis 9:7-21", 10: "Apocalipsis 9:21-10:3", 11: "Apocalipsis 10:3-7", 12: "Apocalipsis 10:8-11:2", 13: "Apocalipsis 11:3-13", 14: "Apocalipsis 11:13-12:2", 17: "Apocalipsis 12:2-6", 18: "Apocalipsis 12:6-9", 19: "Apocalipsis 12:10-17", 20: "Apocalipsis 13:1", 21: "Apocalipsis 13:2-8", 24: "Apocalipsis 13:9-18", 25: "Apocalipsis 14:1-5", 26: "Apocalipsis 14:5-8", 27: "Apocalipsis 14:9-20", 28: "Apocalipsis 14:20-15:1" },
                marzo: { 3: "Apocalipsis 15:2-8", 4: "Apocalipsis 15:8-16:9", 5: "Apocalipsis 16:9-18", 6: "Apocalipsis 16:19-17:5", 7: "Apocalipsis 17:5-18", 10: "Apocalipsis 18:1-8", 11: "Apocalipsis 18:9-24", 12: "Apocalipsis 19:1", 13: "Apocalipsis 19:2-12", 14: "Apocalipsis 19:12-21", 17: "Apocalipsis 20:1-5", 18: "Apocalipsis 20:5-9", 19: "Apocalipsis 20:9-13", 20: "Apocalipsis 20:14-21:2", 21: "Apocalipsis 21:2-5", 24: "Apocalipsis 21:5-16", 25: "Apocalipsis 21:16-20", 26: "Apocalipsis 21:21-22:2", 27: "Apocalipsis 22:2-21", 28: "Guías 1", 31: "Guías 2" },
                abril: { 1: "Guías 3", 2: "Guías 4", 3: "Guías 5", 4: "Guías 6", 7: "Guías 7", 8: "Guías 8", 9: "Guías 9", 10: "Guías 10", 11: "Génesis introducción", 14: "Génesis 1:1", 15: "Génesis 1:1", 16: "Génesis 1:2-28", 17: "Génesis 1:29-2:9", 18: "Génesis 2:10-3:3", 21: "Génesis 3:4-19", 22: "Génesis 3:20-4:1", 23: "Génesis 4:16-5:32", 24: "Génesis 6:1-22", 25: "Génesis 7:1-8:13", 28: "Génesis 8:13-9:11", 29: "Génesis 9:12-10:32", 30: "Génesis 11:1-32" },
                mayo: { 1: "Génesis 12:1-20", 2: "Génesis 13:1-14:20", 5: "Génesis 14:21-15:12", 6: "Génesis 15:13-17:5", 7: "Génesis 17:6-27", 8: "Génesis 18:1-33", 9: "Génesis 19:1-28", 12: "Génesis 19:27-21:11", 13: "Génesis 21:11-22:10", 14: "Génesis 22:11-23:20", 15: "Génesis 24:1-34", 16: "Génesis 24:35-25:18", 19: "Génesis 25:19-26:11", 20: "Génesis 26:12-27:40", 21: "Génesis 27:41-28:22", 22: "Génesis 29:1-35", 23: "Génesis 30:1-31:21", 26: "Génesis 31:22-32:19", 27: "Génesis 32:20-33:20", 28: "Génesis 34:1-31", 29: "Génesis 35:1-29", 30: "Génesis 36:1-37:8" },
                junio: { 2: "Génesis 37:9-36", 3: "Génesis 38:1-39:3", 4: "Génesis 39:4-40:1", 5: "Génesis 40:1-41:14", 6: "Génesis 41:15-57", 9: "Génesis 42:1-38", 10: "Génesis 43:1-44:7", 11: "Génesis 44:8-46:4", 12: "Génesis 46:5-47:10", 13: "Génesis 48:15-49:12", 16: "Génesis 49:13-50:26", 17: "Mateo introducción", 18: "Mateo 1:1-10", 19: "Mateo 1:11-23", 20: "Mateo 1:24-2:10", 23: "Mateo 2:11-3:2", 24: "Mateo 3:3-4:7", 25: "Mateo 4:8-25", 26: "Mateo 5:1-3", 27: "Mateo 5:4-25", 30: "Mateo 5:26-6:6" },
                julio: { 1: "Mateo 5:26-6:6", 2: "Mateo 6:7-34", 3: "Mateo 7:1-20", 4: "Mateo 7:21-8:12", 7: "Mateo 8:13-25", 8: "Mateo 8:23-9:15", 9: "Mateo 9:16-10:8", 10: "Mateo 10:8-10:37", 11: "Mateo 10:38-11:27", 14: "Mateo 11:28-12:32", 15: "Mateo 12:23-13:9", 16: "Mateo 13:10-32", 17: "Mateo 13:33-52", 18: "Mateo 13:53-14:33", 21: "Mateo 14:34-15:39", 22: "Mateo 16:1-21", 23: "Mateo 16:22-17:23", 24: "Mateo 17:24-18:35", 25: "Mateo 19:1-24", 28: "Mateo 19:25-20:29", 29: "Mateo 20:30-21:31", 30: "Mateo 21:32-22:22", 31: "Mateo 22:23-23:24" },
                agosto: { 1: "Mateo 23:25-24:3", 4: "Mateo 24:4-14", 5: "Mateo 24:15-36", 6: "Mateo 24:37-25:33", 7: "Mateo 25:34-26:29", 8: "Mateo 26:30-75", 11: "Mateo 27:1-50", 12: "Mateo 27:51-28:7", 13: "Mateo 28:8-20", 14: "Éxodo 1:1-22", 15: "Éxodo 2:1-25", 18: "Éxodo 3:1-22", 19: "Éxodo 4:1-31", 20: "Éxodo 5:1-23", 21: "Éxodo 6:1-20", 22: "Éxodo 6:26-7:25", 25: "Éxodo 8:1-9:11", 26: "Éxodo 9:12-10:23", 27: "Éxodo 10:24-12:8", 28: "Éxodo 12:9-42", 29: "Éxodo 12:43-14:10" },
                septiembre: { 1: "Éxodo 14:11-15:10", 2: "Éxodo 15:11-16:18", 3: "Éxodo 16:19-17:7", 4: "Éxodo 17:8-18:27", 5: "Éxodo 19:1-20:2", 8: "Éxodo 20:3-25", 9: "Éxodo 20:26-22:25", 10: "Éxodo 23:1-25:7", 11: "Éxodo 25:8-30", 12: "Éxodo 25:31-27:8", 15: "Éxodo 27:9-28:35", 16: "Éxodo 28:36-30:16", 17: "Éxodo 30:17-32:6", 18: "Éxodo 32:7-33:11", 19: "Éxodo 33:12-35:5", 22: "Éxodo 35:6-38:7", 23: "Éxodo 38:8-40:38", 24: "Marcos 1:1-3", 25: "Marcos 1:4-34", 26: "Marcos 1:35-2:14", 29: "Marcos 2:15-3:30", 30: "Marcos 3:31-4:41" },
                octubre: { 1: "Marcos 5:1-6:3", 2: "Marcos 6:4-56", 3: "Marcos 7", 6: "Marcos 8", 7: "Marcos 9", 8: "Marcos 10:1-45", 9: "Marcos 10:46-11:33", 10: "Marcos 12:1-40", 13: "Marcos 12:41-13:27", 14: "Marcos 13:28-14:21", 15: "Marcos 14:22-72", 16: "Marcos 15:1-38", 17: "Marcos 15:39-16:20", 20: "Levítico 1:1-3", 21: "Levítico 1:4-17", 22: "Levítico 2:1-10", 23: "Levítico 2:11-3:7", 24: "Levítico 3:8-4:2", 27: "Levítico 4:3-26", 28: "Levítico 4:27-5:6", 29: "Levítico 5:7-6:7", 30: "Levítico 6:8-30", 31: "Levítico 7:1-34" },
                noviembre: { 3: "Levítico 8:1-5", 4: "Levítico 8:6-14", 5: "Levítico 8:15-36", 6: "Levítico 9:1-21", 7: "Levítico 9:22-10:2", 10: "Levítico 10:3-20", 11: "Levítico 11 introducción", 12: "Levítico 11:1-12", 13: "Levítico 11:13-36", 14: "Levítico 11:37-12:4", 17: "Levítico 12:5-8", 18: "Levítico 13:1-3", 19: "Levítico 13:3-6", 20: "Levítico 13:7-28", 21: "Levítico 13:29-14:7", 24: "Levítico 14:5-32", 25: "Levítico 14:33-15:3", 26: "Levítico 15:4-15:33", 27: "Levítico 16:1-2", 28: "Levítico 16:3-19" },
                diciembre: { 1: "Levítico 16:20-34", 2: "Levítico 17:1-7", 3: "Levítico 17:8-18:5", 4: "Levítico 18:6-30", 5: "Levítico 19:1-8", 8: "Levítico 19:9-37", 9: "Levítico 20:1-16", 10: "Levítico 20:17-21:5", 11: "Levítico 21:6-22:16", 12: "Levítico 22:17-23:3", 15: "Levítico 23:4-14", 16: "Levítico 23:15-25", 17: "Levítico 23:26-24:2", 18: "Levítico 24:3-23", 19: "Levítico 25:1-7", 22: "Levítico 25:8-55", 23: "Levítico 26:1-12", 24: "Levítico 26:13-42", 25: "Levítico 26:43-27:1", 26: "Levítico 27", 29: "Lucas introducción", 30: "Lucas 1:1-25", 31: "Lucas 1:26-64" }
            };

            const monthNames = ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre"];

            // Element references
            const dateEl = document.getElementById('current-date');
            const passageEl = document.getElementById('passage-text');
            const linkEl = document.getElementById('bible-gateway-link');
            const iframeEl = document.getElementById('bible-gateway-iframe');
            const iframeContainerEl = document.getElementById('iframe-container');
            const noPassageMessageEl = document.getElementById('no-passage-message');

            // --- App Logic ---
            const now = new Date();
            // FOR TESTING: Uncomment to test a specific date
            // const now = new Date('2025-09-02T12:00:00');

            const day = now.getDate();
            const monthIndex = now.getMonth();
            const year = now.getFullYear();
            const monthName = monthNames[monthIndex];

            // Display current date
            const formattedDate = new Intl.DateTimeFormat('es-ES', { dateStyle: 'full' }).format(now);
            dateEl.textContent = formattedDate.charAt(0).toUpperCase() + formattedDate.slice(1);

            // Check if the year is 2025, otherwise show a message.
            if (year !== 2025) {
                passageEl.textContent = "El plan de lectura es para el año 2025.";
                linkEl.style.display = 'none';
                iframeContainerEl.style.display = 'none';
                document.querySelector('[href*="youtube.com"]').parentElement.parentElement.style.display = 'none';
                return;
            }

            // Find the passage for today
            const todaysPassage = passages2025[monthName] ? passages2025[monthName][day] : null;

            if (todaysPassage) {
                passageEl.textContent = todaysPassage;

                // Check if it's a linkable passage (contains a colon or is just a book name)
                const isLinkable = todaysPassage.includes(':') || ['Marcos 7', 'Marcos 8', 'Marcos 9', 'Levítico 27'].includes(todaysPassage);

                if (isLinkable) {
                    const encodedPassage = encodeURIComponent(todaysPassage);
                    const url = `https://www.biblegateway.com/passage/?search=${encodedPassage}&version=NBLA`;
                    linkEl.href = url;
                    iframeEl.src = url;

                    // Show iframe, hide message
                    iframeEl.style.display = 'block';
                    noPassageMessageEl.style.display = 'none';
                    linkEl.style.display = 'inline-block';

                } else {
                    // Handle non-linkable text like "Guías 1" or "introducción"
                    linkEl.style.display = 'none';
                    iframeEl.style.display = 'none';
                    noPassageMessageEl.style.display = 'flex';
                }

            } else {
                // No passage for today
                passageEl.textContent = "No hay lectura asignada para hoy.";
                linkEl.style.display = 'none';
                iframeContainerEl.style.display = 'none';
                 document.querySelector('[href*="youtube.com"]').parentElement.parentElement.style.display = 'none';

            }
        });
    </script>
</body>
</html>
